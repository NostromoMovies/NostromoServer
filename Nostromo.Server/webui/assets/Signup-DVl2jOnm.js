import{h as c,x as h,d as P,y as C,u as E,_ as k,r as t,o as g,f as v,k as a,j as n,e as f,t as V,g as _,w as R,c as I}from"./index-A5nK4w7Y.js";const U=e=>{const o=c({username:"",password:"",isAdmin:!0}),r=c("");return{form:o,register:async()=>{try{const s=await h.register(o.value);if(console.log(s.status),s.status===201){const l=s.data;console.log("Account registered successfully:",l),r.value="Registration successful!",e.push("/dashboard")}else throw new Error("Registration failed")}catch(s){console.error("Registration error:",s),s instanceof Error?r.value=s.message||"Registration failed, please try again.":r.value="An unknown error occurred."}},message:r}},$=P({name:"SignupMethod",setup(){const e=C(),{form:o,register:r,message:w}=U(e),s=c(""),l=c(!1),i=c(!1),d=E(()=>s.value&&o.value.password!==s.value?"Passwords do not match":"");return{form:o,checkPassword:s,passwordVisible:l,confirmPasswordVisible:i,passwordError:d,handleSubmit:async()=>{try{if(!d.value){const u=await r();console.log("API response",u)}}catch(u){console.error("Signup error:",u)}},togglePasswordVisibility:()=>{l.value=!l.value},toggleConfirmPasswordVisibility:()=>{i.value=!i.value},message:w}}});function A(e,o,r,w,s,l){const i=t("v-card-title"),d=t("v-alert"),m=t("v-text-field"),y=t("v-btn"),b=t("v-form"),u=t("v-card"),S=t("v-container");return g(),v(S,{class:"d-flex justify-center align-center"},{default:a(()=>[n(u,{class:"pa-5",outlined:""},{default:a(()=>[n(i,{class:"text-h4 font-weight-bold text-center logo"},{default:a(()=>o[3]||(o[3]=[f(" Nostromo ")])),_:1}),e.message?(g(),v(d,{key:0,type:"error",dismissible:""},{default:a(()=>[f(V(e.message),1)]),_:1})):_("",!0),n(b,{onSubmit:R(e.handleSubmit,["prevent"]),ref:"formRef"},{default:a(()=>[n(m,{label:"Username",modelValue:e.form.username,"onUpdate:modelValue":o[0]||(o[0]=p=>e.form.username=p),placeholder:"Enter your username",outlined:"",dense:"",required:""},null,8,["modelValue"]),n(m,{type:e.passwordVisible?"text":"password",label:"Password",modelValue:e.form.password,"onUpdate:modelValue":o[1]||(o[1]=p=>e.form.password=p),placeholder:"Enter your password",outlined:"",dense:"","append-inner-icon":e.passwordVisible?"mdi-eye-off":"mdi-eye","onClick:appendInner":e.togglePasswordVisibility,required:""},null,8,["type","modelValue","append-inner-icon","onClick:appendInner"]),n(m,{type:e.confirmPasswordVisible?"text":"password",label:"Re-Enter Password",modelValue:e.checkPassword,"onUpdate:modelValue":o[2]||(o[2]=p=>e.checkPassword=p),placeholder:"Re-Enter Password",outlined:"",dense:"","append-inner-icon":e.confirmPasswordVisible?"mdi-eye-off":"mdi-eye","onClick:appendInner":e.toggleConfirmPasswordVisibility,required:""},null,8,["type","modelValue","append-inner-icon","onClick:appendInner"]),e.passwordError?(g(),v(d,{key:0,type:"error",dense:""},{default:a(()=>[f(V(e.passwordError),1)]),_:1})):_("",!0),n(y,{class:"mt-4",color:"primary",block:"",large:"",type:"submit"},{default:a(()=>o[4]||(o[4]=[f(" Sign Up ")])),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}const N=k($,[["render",A],["__scopeId","data-v-67a0db89"]]),q=P({__name:"Signup",setup(e){return(o,r)=>(g(),I("main",null,[n(N)]))}}),j=k(q,[["__scopeId","data-v-f5a1d699"]]);export{j as default};
